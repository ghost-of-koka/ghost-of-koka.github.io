import{s as X,e as V,i as y,d as b,z as x,X as Ue,x as J,y as se,f as E,g as P,h as M,Q as Qe,r as ee,u as te,v as le,w as re,K as Ze,a as A,c as N,L as Ke,j as h,J as ne,U as oe,H as qe,F as xe,k as de,P as I,l as H,m as Z,n as Y,A as et,I as Ve,p as Ye,W as Fe,D as me,E as ge,T as pe}from"./scheduler.A5asZbX5.js";import{S as U,i as Q,g as G,t as k,c as T,a as p,b as z,d as j,m as B,e as C,f as _e,h as Oe}from"./index.96OClKxk.js";import{e as F,u as Re,o as Le}from"./each.nJr0_KF8.js";import{C as tt,b as D,n as Je,d as lt,l as R,e as ie,a as L,M as rt,F as at}from"./FullEnemySet.0S9My9Z8.js";import{F as We,g as fe,a as ue,t as st,T as nt,D as it,b as ot}from"./DropdownItem.ihPzoHKz.js";import{f as ft}from"./index.MpTFrneI.js";import{s as W,m as ae}from"./maps.kfFbi_t7.js";const ut=a=>({}),be=a=>({close:a[4]}),ct=a=>({}),he=a=>({close:a[4]});function dt(a){let e,r;const t=[a[5]];let l={$$slots:{default:[gt]},$$scope:{ctx:a}};for(let s=0;s<t.length;s+=1)l=J(l,t[s]);return e=new We({props:l}),{c(){z(e.$$.fragment)},l(s){j(e.$$.fragment,s)},m(s,i){B(e,s,i),r=!0},p(s,i){const n=i&32?fe(t,[ue(s[5])]):{};i&128&&(n.$$scope={dirty:i,ctx:s}),e.$set(n)},i(s){r||(p(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){C(e,s)}}}function mt(a){let e,r,t=a[0]&&ke(a);return{c(){t&&t.c(),e=V()},l(l){t&&t.l(l),e=V()},m(l,s){t&&t.m(l,s),y(l,e,s),r=!0},p(l,s){l[0]?t?(t.p(l,s),s&1&&p(t,1)):(t=ke(l),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(G(),k(t,1,1,()=>{t=null}),T())},i(l){r||(p(t),r=!0)},o(l){k(t),r=!1},d(l){l&&b(e),t&&t.d(l)}}}function gt(a){let e;const r=a[6].default,t=ee(r,a,a[7],be);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&128)&&te(t,r,l,l[7],e?re(r,l[7],s,ut):le(l[7]),be)},i(l){e||(p(t,l),e=!0)},o(l){k(t,l),e=!1},d(l){t&&t.d(l)}}}function ke(a){let e,r,t,l;const s=[a[5]];let i={$$slots:{default:[pt]},$$scope:{ctx:a}};for(let n=0;n<s.length;n+=1)i=J(i,s[n]);return r=new We({props:i}),{c(){e=E("div"),z(r.$$.fragment)},l(n){e=P(n,"DIV",{});var o=M(e);j(r.$$.fragment,o),o.forEach(b)},m(n,o){y(n,e,o),B(r,e,null),l=!0},p(n,o){a=n;const f=o&32?fe(s,[ue(a[5])]):{};o&128&&(f.$$scope={dirty:o,ctx:a}),r.$set(f)},i(n){l||(p(r.$$.fragment,n),n&&Qe(()=>{l&&(t||(t=_e(e,a[1],a[2],!0)),t.run(1))}),l=!0)},o(n){k(r.$$.fragment,n),n&&(t||(t=_e(e,a[1],a[2],!1)),t.run(0)),l=!1},d(n){n&&b(e),C(r),n&&t&&t.end()}}}function pt(a){let e;const r=a[6].default,t=ee(r,a,a[7],he);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&128)&&te(t,r,l,l[7],e?re(r,l[7],s,ct):le(l[7]),he)},i(l){e||(p(t,l),e=!0)},o(l){k(t,l),e=!1},d(l){t&&t.d(l)}}}function _t(a){let e,r,t,l;const s=[mt,dt],i=[];function n(o,f){return o[3]?0:1}return e=n(a),r=i[e]=s[e](a),{c(){r.c(),t=V()},l(o){r.l(o),t=V()},m(o,f){i[e].m(o,f),y(o,t,f),l=!0},p(o,[f]){let d=e;e=n(o),e===d?i[e].p(o,f):(G(),k(i[d],1,1,()=>{i[d]=null}),T(),r=i[e],r?r.p(o,f):(r=i[e]=s[e](o),r.c()),p(r,1),r.m(t.parentNode,t))},i(o){l||(p(r),l=!0)},o(o){k(r),l=!1},d(o){o&&b(t),i[e].d(o)}}}function bt(a,e,r){const t=["transition","params","open","dismissable"];let l=x(e,t),{$$slots:s={},$$scope:i}=e,{transition:n=ft}=e,{params:o={}}=e,{open:f=!0}=e,{dismissable:d=!1}=e;const g=Ue();function _(u){u!=null&&u.stopPropagation&&u.stopPropagation(),r(0,f=!1)}return a.$$set=u=>{e=J(J({},e),se(u)),r(5,l=x(e,t)),"transition"in u&&r(1,n=u.transition),"params"in u&&r(2,o=u.params),"open"in u&&r(0,f=u.open),"dismissable"in u&&r(3,d=u.dismissable),"$$scope"in u&&r(7,i=u.$$scope)},a.$$.update=()=>{a.$$.dirty&1&&g(f?"open":"close")},[f,n,o,d,_,l,s,i]}class ht extends U{constructor(e){super(),Q(this,e,bt,_t,X,{transition:1,params:2,open:0,dismissable:3})}}const kt=a=>({close:a&8192}),$e=a=>({close:a[13]});function we(a){let e;const r=a[5]["close-button"],t=ee(r,a,a[7],$e),l=t||$t(a);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),e=!0},p(s,i){t?t.p&&(!e||i&8320)&&te(t,r,s,s[7],e?re(r,s[7],i,kt):le(s[7]),$e):l&&l.p&&(!e||i&8195)&&l.p(s,e?i:-1)},i(s){e||(p(l,s),e=!0)},o(s){k(l,s),e=!1},d(s){l&&l.d(s)}}}function $t(a){let e,r;return e=new tt({props:{color:a[0],size:a[1]?"sm":"xs",name:"Remove badge",class:"ms-1.5 -me-1.5"}}),e.$on("click",function(){Ke(a[13])&&a[13].apply(this,arguments)}),{c(){z(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,l){B(e,t,l),r=!0},p(t,l){a=t;const s={};l&1&&(s.color=a[0]),l&2&&(s.size=a[1]?"sm":"xs"),e.$set(s)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function wt(a){let e,r,t;const l=a[5].default,s=ee(l,a,a[7],null);let i=a[2]&&we(a);return{c(){s&&s.c(),e=A(),i&&i.c(),r=V()},l(n){s&&s.l(n),e=N(n),i&&i.l(n),r=V()},m(n,o){s&&s.m(n,o),y(n,e,o),i&&i.m(n,o),y(n,r,o),t=!0},p(n,o){s&&s.p&&(!t||o&128)&&te(s,l,n,n[7],t?re(l,n[7],o,null):le(n[7]),null),n[2]?i?(i.p(n,o),o&4&&p(i,1)):(i=we(n),i.c(),p(i,1),i.m(r.parentNode,r)):i&&(G(),k(i,1,1,()=>{i=null}),T())},i(n){t||(p(s,n),p(i),t=!0)},o(n){k(s,n),k(i),t=!1},d(n){n&&(b(e),b(r)),s&&s.d(n),i&&i.d(n)}}}function vt(a){let e,r;const t=[{dismissable:a[2]},a[4],{class:a[3]}];let l={$$slots:{default:[wt,({close:s})=>({13:s}),({close:s})=>s?8192:0]},$$scope:{ctx:a}};for(let s=0;s<t.length;s+=1)l=J(l,t[s]);return e=new ht({props:l}),e.$on("close",a[6]),{c(){z(e.$$.fragment)},l(s){j(e.$$.fragment,s)},m(s,i){B(e,s,i),r=!0},p(s,[i]){const n=i&28?fe(t,[i&4&&{dismissable:s[2]},i&16&&ue(s[4]),i&8&&{class:s[3]}]):{};i&8327&&(n.$$scope={dirty:i,ctx:s}),e.$set(n)},i(s){r||(p(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){C(e,s)}}}const yt="font-medium inline-flex items-center justify-center px-2.5 py-0.5";function It(a,e,r){const t=["color","large","dismissable"];let l=x(e,t),{$$slots:s={},$$scope:i}=e,{color:n="primary"}=e,{large:o=!1}=e,{dismissable:f=!1}=e;const d={primary:"bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-300",blue:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",dark:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",gray:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",red:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",green:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",yellow:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",indigo:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",purple:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",pink:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-300",none:""},g={primary:"bg-primary-100 text-primary-800 dark:bg-gray-700 dark:text-primary-400 border-primary-400 dark:border-primary-400",blue:"bg-blue-100 text-blue-800 dark:bg-gray-700 dark:text-blue-400 border-blue-400 dark:border-blue-400",dark:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400 border-gray-500 dark:border-gray-500",red:"bg-red-100 text-red-800 dark:bg-gray-700 dark:text-red-400 border-red-400 dark:border-red-400",green:"bg-green-100 text-green-800 dark:bg-gray-700 dark:text-green-400 border-green-400 dark:border-green-400",yellow:"bg-yellow-100 text-yellow-800 dark:bg-gray-700 dark:text-yellow-300 border-yellow-300 dark:border-yellow-300",indigo:"bg-indigo-100 text-indigo-800 dark:bg-gray-700 dark:text-indigo-400 border-indigo-400 dark:border-indigo-400",purple:"bg-purple-100 text-purple-800 dark:bg-gray-700 dark:text-purple-400 border-purple-400 dark:border-purple-400",pink:"bg-pink-100 text-pink-800 dark:bg-gray-700 dark:text-pink-400 border-pink-400 dark:border-pink-400",none:""},_={primary:"hover:bg-primary-200",blue:"hover:bg-blue-200",dark:"hover:bg-gray-200",red:"hover:bg-red-200",green:"hover:bg-green-200",yellow:"hover:bg-yellow-200",indigo:"hover:bg-indigo-200",purple:"hover:bg-purple-200",pink:"hover:bg-pink-200",none:""};let u;function c(m){Ze.call(this,a,m)}return a.$$set=m=>{r(12,e=J(J({},e),se(m))),r(4,l=x(e,t)),"color"in m&&r(0,n=m.color),"large"in m&&r(1,o=m.large),"dismissable"in m&&r(2,f=m.dismissable),"$$scope"in m&&r(7,i=m.$$scope)},a.$$.update=()=>{r(3,u=st(yt,o?"text-sm":"text-xs",l.border?`border ${g[n]}`:d[n],l.href&&_[n],l.rounded?"rounded-full":"rounded",e.class))},e=se(e),[n,o,f,u,l,s,c,i]}class q extends U{constructor(e){super(),Q(this,e,It,vt,X,{color:0,large:1,dismissable:2})}}function ve(a,e,r){const t=a.slice();return t[4]=e[r][0],t[5]=e[r][1],t}function ye(a,e,r){const t=a.slice();return t[8]=e[r],t}function Ie(a){let e,r,t,l=a[2](a[4])+"",s,i;return{c(){e=E("div"),r=E("div"),t=new qe(!1),i=A(),this.h()},l(n){e=P(n,"DIV",{class:!0});var o=M(e);r=P(o,"DIV",{style:!0,class:!0});var f=M(r);t=xe(f,!1),f.forEach(b),i=N(o),o.forEach(b),this.h()},h(){t.a=null,de(r,"width",100*D[a[4]].hp/44+"%"),h(r,"class",s=a[1](a[4])+" h-full"),h(e,"class","border-0 bg-slate-200 dark:bg-slate-900 text-left align-middle pt-px text-[0.4rem] sm:text-[0.5rem] md:text-xs")},m(n,o){y(n,e,o),I(e,r),t.m(l,r),I(e,i)},p(n,o){o&1&&l!==(l=n[2](n[4])+"")&&t.p(l),o&1&&de(r,"width",100*D[n[4]].hp/44+"%"),o&1&&s!==(s=n[1](n[4])+" h-full")&&h(r,"class",s)},d(n){n&&b(e)}}}function De(a){let e,r=F(Array(a[5])),t=[];for(let l=0;l<r.length;l+=1)t[l]=Ie(ye(a,r,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=V()},l(l){for(let s=0;s<t.length;s+=1)t[s].l(l);e=V()},m(l,s){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(l,s);y(l,e,s)},p(l,s){if(s&7){r=F(Array(l[5]));let i;for(i=0;i<r.length;i+=1){const n=ye(l,r,i);t[i]?t[i].p(n,s):(t[i]=Ie(n),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=r.length}},d(l){l&&b(e),oe(t,l)}}}function Dt(a){let e,r=F(Object.entries(a[0]).sort(a[3])),t=[];for(let l=0;l<r.length;l+=1)t[l]=De(ve(a,r,l));return{c(){e=E("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=P(l,"DIV",{class:!0});var s=M(e);for(let i=0;i<t.length;i+=1)t[i].l(s);s.forEach(b),this.h()},h(){h(e,"class","bg-slate-200 dark:bg-slate-900 border-0")},m(l,s){y(l,e,s);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null)},p(l,[s]){if(s&7){r=F(Object.entries(l[0]).sort(l[3]));let i;for(i=0;i<r.length;i+=1){const n=ve(l,r,i);t[i]?t[i].p(n,s):(t[i]=De(n),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=r.length}},i:ne,o:ne,d(l){l&&b(e),oe(t,l)}}}function Mt(a,e,r){let{spawns:t=[]}=e;function l(n){return D[n].disciple?"bg-blue-600 dark:bg-blue-700":D[n].tengu?"bg-red-600 dark:bg-red-800 text-slate-400":D[n].purple?"bg-purple-800 dark:bg-purple-900 text-slate-400":n=="Oni Dog"?"bg-orange-900 dark:bg-orange-900 text-slate-500":n=="Bear"?"bg-amber-800 dark:bg-amber-800 text-slate-400":D[n].oni?"bg-slate-500 dark:bg-slate-500":"bg-slate-400 dark:bg-slate-600 text-slate-800 dark:text-slate-400"}function s(n){return D[n].tengu?"TENGU":n=="Bear"?"BEAR":n=="Oni Dog"?"DOG":D[n].invisible&&D[n].teleporter?"INV TELEPORT":D[n].invisible?"INV":D[n].teleporter?"TELEPORT":"&nbsp;"}const i=([n],[o])=>D[o].hp-D[n].hp;return a.$$set=n=>{"spawns"in n&&r(0,t=n.spawns)},[t,l,s,i]}class Et extends U{constructor(e){super(),Q(this,e,Mt,Dt,X,{spawns:0})}}function Me(a){let e,r;return e=new q({props:{color:"custom",class:"text-slate-300 bg-red-800 capitalize",$$slots:{default:[Pt]},$$scope:{ctx:a}}}),{c(){z(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,l){B(e,t,l),r=!0},p(t,l){const s={};l&1028&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function Pt(a){let e,r;return{c(){e=E("span"),r=H(a[2]),this.h()},l(t){e=P(t,"SPAN",{"data-before-brief":!0,"data-before-full":!0,class:!0});var l=M(e);r=Z(l,a[2]),l.forEach(b),this.h()},h(){h(e,"data-before-brief","T-"),h(e,"data-before-full","TENGU-"),h(e,"class","before:content-[attr(data-before-brief)] md:before:content-[attr(data-before-full)]")},m(t,l){y(t,e,l),I(e,r)},p(t,l){l&4&&Y(r,t[2])},d(t){t&&b(e)}}}function Ee(a){let e,r;return e=new q({props:{color:"custom",class:"text-slate-300 bg-blue-800 capitalize",$$slots:{default:[At]},$$scope:{ctx:a}}}),{c(){z(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,l){B(e,t,l),r=!0},p(t,l){const s={};l&1040&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function At(a){let e,r;return{c(){e=E("span"),r=H(a[4]),this.h()},l(t){e=P(t,"SPAN",{"data-before-brief":!0,"data-before-full":!0,class:!0});var l=M(e);r=Z(l,a[4]),l.forEach(b),this.h()},h(){h(e,"data-before-brief","DI-"),h(e,"data-before-full","DISCIPLE-"),h(e,"class","before:content-[attr(data-before-brief)] md:before:content-[attr(data-before-full)]")},m(t,l){y(t,e,l),I(e,r)},p(t,l){l&16&&Y(r,t[4])},d(t){t&&b(e)}}}function Pe(a){let e,r;return e=new q({props:{color:"custom",class:"text-slate-200 bg-cyan-800 capitalize",$$slots:{default:[Nt]},$$scope:{ctx:a}}}),{c(){z(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,l){B(e,t,l),r=!0},p(t,l){const s={};l&1032&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function Nt(a){let e,r;return{c(){e=E("span"),r=H(a[3]),this.h()},l(t){e=P(t,"SPAN",{"data-before-brief":!0,"data-before-full":!0,class:!0});var l=M(e);r=Z(l,a[3]),l.forEach(b),this.h()},h(){h(e,"data-before-brief","TP-"),h(e,"data-before-full","TELEPORT-"),h(e,"class","before:content-[attr(data-before-brief)] md:before:content-[attr(data-before-full)]")},m(t,l){y(t,e,l),I(e,r)},p(t,l){l&8&&Y(r,t[3])},d(t){t&&b(e)}}}function Ae(a){let e,r;return e=new q({props:{color:"custom",class:"text-slate-300 bg-yellow-800 capitalize",$$slots:{default:[zt]},$$scope:{ctx:a}}}),{c(){z(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,l){B(e,t,l),r=!0},p(t,l){const s={};l&1026&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function zt(a){let e,r;return{c(){e=E("span"),r=H(a[1]),this.h()},l(t){e=P(t,"SPAN",{"data-before-brief":!0,"data-before-full":!0,class:!0});var l=M(e);r=Z(l,a[1]),l.forEach(b),this.h()},h(){h(e,"data-before-brief","B-"),h(e,"data-before-full","BEAR-"),h(e,"class","before:content-[attr(data-before-brief)] md:before:content-[attr(data-before-full)]")},m(t,l){y(t,e,l),I(e,r)},p(t,l){l&2&&Y(r,t[1])},d(t){t&&b(e)}}}function Ne(a){let e,r;return e=new q({props:{color:"custom",class:"text-slate-200 bg-yellow-700 capitalize hidden sm:inline",$$slots:{default:[jt]},$$scope:{ctx:a}}}),{c(){z(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,l){B(e,t,l),r=!0},p(t,l){const s={};l&1025&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function jt(a){let e,r;return{c(){e=E("span"),r=H(a[0]),this.h()},l(t){e=P(t,"SPAN",{"data-before-brief":!0,"data-before-full":!0,class:!0});var l=M(e);r=Z(l,a[0]),l.forEach(b),this.h()},h(){h(e,"data-before-brief","D-"),h(e,"data-before-full","DOG-"),h(e,"class","before:content-[attr(data-before-brief)] md:before:content-[attr(data-before-full)]")},m(t,l){y(t,e,l),I(e,r)},p(t,l){l&1&&Y(r,t[0])},d(t){t&&b(e)}}}function Bt(a){let e,r,t,l,s,i,n,o,f,d=a[2]>0&&Me(a),g=a[4]>0&&Ee(a),_=a[3]>0&&Pe(a),u=a[1]>0&&Ae(a),c=a[0]>0&&Ne(a);return{c(){e=E("div"),r=E("span"),t=H(a[5]),l=A(),d&&d.c(),s=A(),g&&g.c(),i=A(),_&&_.c(),n=A(),u&&u.c(),o=A(),c&&c.c(),this.h()},l(m){e=P(m,"DIV",{class:!0});var w=M(e);r=P(w,"SPAN",{class:!0});var v=M(r);t=Z(v,a[5]),v.forEach(b),l=N(w),d&&d.l(w),s=N(w),g&&g.l(w),i=N(w),_&&_.l(w),n=N(w),u&&u.l(w),o=N(w),c&&c.l(w),w.forEach(b),this.h()},h(){h(r,"class","text-lime-600 bg-slate-900 inline pr-1 sm:pr-2 md:pr-3 text-xs md:text-sm lg:text-lg"),h(e,"class","border-0")},m(m,w){y(m,e,w),I(e,r),I(r,t),I(e,l),d&&d.m(e,null),I(e,s),g&&g.m(e,null),I(e,i),_&&_.m(e,null),I(e,n),u&&u.m(e,null),I(e,o),c&&c.m(e,null),f=!0},p(m,[w]){(!f||w&32)&&Y(t,m[5]),m[2]>0?d?(d.p(m,w),w&4&&p(d,1)):(d=Me(m),d.c(),p(d,1),d.m(e,s)):d&&(G(),k(d,1,1,()=>{d=null}),T()),m[4]>0?g?(g.p(m,w),w&16&&p(g,1)):(g=Ee(m),g.c(),p(g,1),g.m(e,i)):g&&(G(),k(g,1,1,()=>{g=null}),T()),m[3]>0?_?(_.p(m,w),w&8&&p(_,1)):(_=Pe(m),_.c(),p(_,1),_.m(e,n)):_&&(G(),k(_,1,1,()=>{_=null}),T()),m[1]>0?u?(u.p(m,w),w&2&&p(u,1)):(u=Ae(m),u.c(),p(u,1),u.m(e,o)):u&&(G(),k(u,1,1,()=>{u=null}),T()),m[0]>0?c?(c.p(m,w),w&1&&p(c,1)):(c=Ne(m),c.c(),p(c,1),c.m(e,null)):c&&(G(),k(c,1,1,()=>{c=null}),T())},i(m){f||(p(d),p(g),p(_),p(u),p(c),f=!0)},o(m){k(d),k(g),k(_),k(u),k(c),f=!1},d(m){m&&b(e),d&&d.d(),g&&g.d(),_&&_.d(),u&&u.d(),c&&c.d()}}}function Ct(a,e,r){let{spawns:t=[]}=e,l=0,s=0,i=0,n=0,o=0,f=0,d=0,g=0,_=0;return Object.entries(t).forEach(u=>{r(5,d+=u[1]),g+=D[u[0]].hp,D[u[0]].hp>6&&(_+=(D[u[0]].hp-6)**1.5),D[u[0]].tengu&&r(2,i+=u[1]),D[u[0]].invisible&&(n+=u[1]),D[u[0]].teleporter&&r(3,o+=u[1]),u[0]=="Bear"&&r(1,s+=u[1]),u[0]=="Oni Dog"&&r(0,l+=u[1]),u[0]=="Disciple"&&r(4,f+=u[1])}),a.$$set=u=>{"spawns"in u&&r(6,t=u.spawns)},[l,s,i,o,f,d,t]}class St extends U{constructor(e){super(),Q(this,e,Ct,Bt,X,{spawns:6})}}function ze(a,e,r){const t=a.slice();return t[9]=e[r],t[11]=r,t}function je(a,e,r){const t=a.slice();return t[9]=e[r],t[13]=r,t}function Be(a){let e,r=(a[3][L[a[11]][a[13]]]??L[a[11]][a[13]])+"",t,l,s,i=(a[4][L[a[11]][a[13]]]??L[a[11]][a[13]])+"",n;return{c(){e=E("p"),t=H(r),l=A(),s=E("p"),n=H(i),this.h()},l(o){e=P(o,"P",{class:!0});var f=M(e);t=Z(f,r),f.forEach(b),l=N(o),s=P(o,"P",{class:!0});var d=M(s);n=Z(d,i),d.forEach(b),this.h()},h(){h(e,"class","text-center dark:text-white pb-0.5 sm:pb-1 md:pb-2 text-sm md:text-lg block sm:hidden"),h(s,"class","text-center dark:text-white pb-0.5 sm:pb-1 md:pb-2 text-sm md:text-lg hidden sm:block")},m(o,f){y(o,e,f),I(e,t),y(o,l,f),y(o,s,f),I(s,n)},p(o,f){f&8&&r!==(r=(o[3][L[o[11]][o[13]]]??L[o[11]][o[13]])+"")&&Y(t,r),f&16&&i!==(i=(o[4][L[o[11]][o[13]]]??L[o[11]][o[13]])+"")&&Y(n,i)},d(o){o&&(b(e),b(l),b(s))}}}function Gt(a){let e,r;return e=new St({props:{spawns:W[a[0]].spawns[a[11]][a[13]]}}),{c(){z(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,l){B(e,t,l),r=!0},p(t,l){const s={};l&1&&(s.spawns=W[t[0]].spawns[t[11]][t[13]]),e.$set(s)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function Tt(a){let e,r;return e=new Et({props:{spawns:W[a[0]].spawns[a[11]][a[13]]}}),{c(){z(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,l){B(e,t,l),r=!0},p(t,l){const s={};l&1&&(s.spawns=W[t[0]].spawns[t[11]][t[13]]),e.$set(s)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function Ce(a,e){let r,t,l,s,i,n,o,f=e[1]&&Be(e);const d=[Tt,Gt],g=[];function _(c,m){return c[2]?0:1}l=_(e),s=g[l]=d[l](e);function u(){return e[8](e[11],e[13])}return{key:a,first:null,c(){r=E("div"),f&&f.c(),t=A(),s.c(),this.h()},l(c){r=P(c,"DIV",{class:!0});var m=M(r);f&&f.l(m),t=N(m),s.l(m),m.forEach(b),this.h()},h(){h(r,"class","dark:bg-slate-900 bg-slate-200 flex-initial "+Zt(e[6](e[11],e[13]))+" outline outline-1 md:outline-2 rounded-lg drop-shadow-md dark:drop-shadow-md w-64 p-1 md:p-2 m-1 sm:mx-2 md:mx-3"),this.first=r},m(c,m){y(c,r,m),f&&f.m(r,null),I(r,t),g[l].m(r,null),i=!0,n||(o=Ve(r,"click",u),n=!0)},p(c,m){e=c,e[1]?f?f.p(e,m):(f=Be(e),f.c(),f.m(r,t)):f&&(f.d(1),f=null);let w=l;l=_(e),l===w?g[l].p(e,m):(G(),k(g[w],1,1,()=>{g[w]=null}),T(),s=g[l],s?s.p(e,m):(s=g[l]=d[l](e),s.c()),p(s,1),s.m(r,null))},i(c){i||(p(s),i=!0)},o(c){k(s),i=!1},d(c){c&&b(r),f&&f.d(),g[l].d(),n=!1,o()}}}function Se(a,e){let r,t,l=e[11]+1+"",s,i,n=[],o=new Map,f,d,g=F(Array(3));const _=u=>u[13];for(let u=0;u<g.length;u+=1){let c=je(e,g,u),m=_(c);o.set(m,n[u]=Ce(m,c))}return{key:a,first:null,c(){r=E("div"),t=E("div"),s=H(l),i=A();for(let u=0;u<n.length;u+=1)n[u].c();f=A(),this.h()},l(u){r=P(u,"DIV",{class:!0});var c=M(r);t=P(c,"DIV",{class:!0});var m=M(t);s=Z(m,l),m.forEach(b),i=N(c);for(let w=0;w<n.length;w+=1)n[w].l(c);f=N(c),c.forEach(b),this.h()},h(){h(t,"class","flex-initial w-8 dark:text-white text-center p-1 self-center text-xs md:text-lg"),h(r,"class","flex flex-row justify-center mx-1 sm:mx-2 md:mx-3 my-1 sm:my-2 md:my-3"),this.first=r},m(u,c){y(u,r,c),I(r,t),I(t,s),I(r,i);for(let m=0;m<n.length;m+=1)n[m]&&n[m].m(r,null);I(r,f),d=!0},p(u,c){e=u,c&127&&(g=F(Array(3)),G(),n=Re(n,c,_,1,e,g,o,r,Le,Ce,f,je),T())},i(u){if(!d){for(let c=0;c<g.length;c+=1)p(n[c]);d=!0}},o(u){for(let c=0;c<n.length;c+=1)k(n[c]);d=!1},d(u){u&&b(r);for(let c=0;c<n.length;c+=1)n[c].d()}}}function Ht(a){let e,r=[],t=new Map,l,s=F(Array(15));const i=n=>n[11];for(let n=0;n<s.length;n+=1){let o=ze(a,s,n),f=i(o);t.set(f,r[n]=Se(f,o))}return{c(){e=E("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=P(n,"DIV",{class:!0});var o=M(e);for(let f=0;f<r.length;f+=1)r[f].l(o);o.forEach(b),this.h()},h(){h(e,"class","flex flex-col justify-center")},m(n,o){y(n,e,o);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null);l=!0},p(n,[o]){o&127&&(s=F(Array(15)),G(),r=Re(r,o,i,1,n,s,t,e,Le,Se,null,ze),T())},i(n){if(!l){for(let o=0;o<s.length;o+=1)p(r[o]);l=!0}},o(n){for(let o=0;o<r.length;o+=1)k(r[o]);l=!1},d(n){n&&b(e);for(let o=0;o<r.length;o+=1)r[o].d()}}}function Zt(a){return a>200?"outline-red-800":a>160?"outline-yellow-900":a>90?"outline-blue-800":"outline-emerald-800"}function Vt(a,e,r){let t,l,s;et(a,Je,_=>r(7,s=_));let{mapname:i}=e,{nmsflag:n=!1}=e;function o(_,u){ie.set({enabled:!0,wave:_,spawn:u})}let f;lt.subscribe(_=>{r(2,f=!0)});function d(_,u){let c=0,m=0,w=0,v=0,$=0,O=0,K=0,Xe=0,ce=0;return Object.entries(W[i].spawns[_][u]).forEach(S=>{K+=S[1],Xe+=D[S[0]].hp,D[S[0]].hp>6&&(ce+=(D[S[0]].hp-6)**1.5),D[S[0]].tengu&&(w+=S[1]),D[S[0]].invisible&&(v+=S[1]),D[S[0]].teleporter&&($+=S[1]),S[0]=="Bear"&&(m+=S[1]),S[0]=="Oni Dog"&&(c+=S[1]),S[0]=="Disciple"&&(O+=S[1])}),ce}const g=(_,u)=>o(_,u);return a.$$set=_=>{"mapname"in _&&r(0,i=_.mapname),"nmsflag"in _&&r(1,n=_.nmsflag)},a.$$.update=()=>{a.$$.dirty&131&&r(4,t=n?R[i][s].spawns:[]),a.$$.dirty&131&&r(3,l=n?R[i][s].smallspawns??R[i][s].spawns:[])},[i,n,f,l,t,o,d,s,g]}class Yt extends U{constructor(e){super(),Q(this,e,Vt,Ht,X,{mapname:0,nmsflag:1})}}function Ge(a,e,r){const t=a.slice();return t[15]=e[r],t}function Te(a){let e,r,t,l,s;e=new nt({props:{class:"dots-menu text-gray-900 bg-white dark:text-white dark:bg-gray-800",$$slots:{default:[Ft]},$$scope:{ctx:a}}});function i(o){a[10](o)}let n={$$slots:{default:[Rt]},$$scope:{ctx:a}};return a[1]!==void 0&&(n.open=a[1]),t=new it({props:n}),Ye.push(()=>Oe(t,"open",i)),t.$on("show",a[11]),{c(){z(e.$$.fragment),r=A(),z(t.$$.fragment)},l(o){j(e.$$.fragment,o),r=N(o),j(t.$$.fragment,o)},m(o,f){B(e,o,f),y(o,r,f),B(t,o,f),s=!0},p(o,f){const d={};f&262144&&(d.$$scope={dirty:f,ctx:o}),e.$set(d);const g={};f&262152&&(g.$$scope={dirty:f,ctx:o}),!l&&f&2&&(l=!0,g.open=o[1],Fe(()=>l=!1)),t.$set(g)},i(o){s||(p(e.$$.fragment,o),p(t.$$.fragment,o),s=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),s=!1},d(o){o&&b(r),C(e,o),C(t,o)}}}function Ft(a){let e,r;return{c(){e=me("svg"),r=me("path"),this.h()},l(t){e=ge(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var l=M(e);r=ge(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),M(r).forEach(b),l.forEach(b),this.h()},h(){h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"d","M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"fill","none"),h(e,"viewBox","0 0 24 24"),h(e,"stroke-width","1.5"),h(e,"stroke","currentColor"),h(e,"class","w-5 h-5")},m(t,l){y(t,e,l),I(e,r)},p:ne,d(t){t&&b(e)}}}function Ot(a){let e,r,t,l,s,i=R[a[3]][a[15]].name+"",n,o;return{c(){e=E("div"),r=E("img"),l=A(),s=E("div"),n=H(i),o=A(),this.h()},l(f){e=P(f,"DIV",{class:!0});var d=M(e);r=P(d,"IMG",{width:!0,height:!0,alt:!0,class:!0,src:!0}),l=N(d),s=P(d,"DIV",{class:!0});var g=M(s);n=Z(g,i),g.forEach(b),d.forEach(b),o=N(f),this.h()},h(){h(r,"width","16"),h(r,"height","12"),h(r,"alt","lang"),h(r,"class","flex align-middle pr-1"),pe(r.src,t="data:image/svg+xml;base64,"+a[7][R[a[3]][a[15]].lang])||h(r,"src",t),h(s,"class","flex align-middle text-xs"),h(e,"class","flex flex-row")},m(f,d){y(f,e,d),I(e,r),I(e,l),I(e,s),I(s,n),y(f,o,d)},p(f,d){d&8&&!pe(r.src,t="data:image/svg+xml;base64,"+f[7][R[f[3]][f[15]].lang])&&h(r,"src",t),d&8&&i!==(i=R[f[3]][f[15]].name+"")&&Y(n,i)},d(f){f&&(b(e),b(o))}}}function He(a){let e,r;function t(){return a[9](a[15])}return e=new ot({props:{class:"align-middle text-xs",$$slots:{default:[Ot]},$$scope:{ctx:a}}}),e.$on("click",t),{c(){z(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,s){B(e,l,s),r=!0},p(l,s){a=l;const i={};s&262152&&(i.$$scope={dirty:s,ctx:a}),e.$set(i)},i(l){r||(p(e.$$.fragment,l),r=!0)},o(l){k(e.$$.fragment,l),r=!1},d(l){C(e,l)}}}function Rt(a){let e,r,t=F(Object.keys(R[a[3]])),l=[];for(let i=0;i<t.length;i+=1)l[i]=He(Ge(a,t,i));const s=i=>k(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=V()},l(i){for(let n=0;n<l.length;n+=1)l[n].l(i);e=V()},m(i,n){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,n);y(i,e,n),r=!0},p(i,n){if(n&152){t=F(Object.keys(R[i[3]]));let o;for(o=0;o<t.length;o+=1){const f=Ge(i,t,o);l[o]?(l[o].p(f,n),p(l[o],1)):(l[o]=He(f),l[o].c(),p(l[o],1),l[o].m(e.parentNode,e))}for(G(),o=t.length;o<l.length;o+=1)s(o);T()}},i(i){if(!r){for(let n=0;n<t.length;n+=1)p(l[n]);r=!0}},o(i){l=l.filter(Boolean);for(let n=0;n<l.length;n+=1)k(l[n]);r=!1},d(i){i&&b(e),oe(l,i)}}}function Lt(a){let e,r;return e=new at({props:{spawns:W[a[3]].spawns[a[2].wave][a[2].spawn]}}),{c(){z(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,l){B(e,t,l),r=!0},p(t,l){const s={};l&12&&(s.spawns=W[t[3]].spawns[t[2].wave][t[2].spawn]),e.$set(s)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){C(e,t)}}}function Jt(a){let e,r=a[6](a[3])+"",t,l,s,i,n,o,f,d,g,_,u,c=a[0]&&Te(a);function m(v){a[12](v)}let w={title:"Wave "+(1+a[2].wave)+"-"+(1+a[2].spawn),autoclose:!0,$$slots:{default:[Lt]},$$scope:{ctx:a}};return a[2].enabled!==void 0&&(w.open=a[2].enabled),n=new rt({props:w}),Ye.push(()=>Oe(n,"open",m)),n.$on("click",a[13]),d=new Yt({props:{nmsflag:a[0],mapname:a[3]}}),{c(){e=E("p"),t=H(r),l=A(),c&&c.c(),s=A(),i=E("div"),z(n.$$.fragment),f=A(),z(d.$$.fragment),this.h()},l(v){e=P(v,"P",{class:!0});var $=M(e);t=Z($,r),l=N($),c&&c.l($),$.forEach(b),s=N(v),i=P(v,"DIV",{class:!0});var O=M(i);j(n.$$.fragment,O),O.forEach(b),f=N(v),j(d.$$.fragment,v),this.h()},h(){h(e,"class","dark:text-white text-2xl text-center p-2 md:p-4"),h(i,"class","bg-green-500")},m(v,$){y(v,e,$),I(e,t),I(e,l),c&&c.m(e,null),y(v,s,$),y(v,i,$),B(n,i,null),y(v,f,$),B(d,v,$),g=!0,_||(u=Ve(i,"click",a[14]),_=!0)},p(v,[$]){(!g||$&8)&&r!==(r=v[6](v[3])+"")&&Y(t,r),v[0]?c?(c.p(v,$),$&1&&p(c,1)):(c=Te(v),c.c(),p(c,1),c.m(e,null)):c&&(G(),k(c,1,1,()=>{c=null}),T());const O={};$&4&&(O.title="Wave "+(1+v[2].wave)+"-"+(1+v[2].spawn)),$&262156&&(O.$$scope={dirty:$,ctx:v}),!o&&$&4&&(o=!0,O.open=v[2].enabled,Fe(()=>o=!1)),n.$set(O);const K={};$&1&&(K.nmsflag=v[0]),$&8&&(K.mapname=v[3]),d.$set(K)},i(v){g||(p(c),p(n.$$.fragment,v),p(d.$$.fragment,v),g=!0)},o(v){k(c),k(n.$$.fragment,v),k(d.$$.fragment,v),g=!1},d(v){v&&(b(e),b(s),b(i),b(f)),c&&c.d(),C(n),C(d,v),_=!1,u()}}}const Wt="bits";function Xt(a,e,r){let t,l,{map:s=""}=e,i=!1,n;function o($){Je.set($),r(1,i=!1)}function f(){ie.set({enabled:!1,wave:0,spawn:0})}function d($){return $ in ae?t?"NMS: "+ae[$].name:ae[$].name:""}ie.subscribe($=>{r(2,n=$)});const g={en:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2MCAzMCI+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBkPSJNMCAwdjMwaDYwVjB6Ii8+PC9jbGlwUGF0aD48Y2xpcFBhdGggaWQ9ImIiPjxwYXRoIGQ9Ik0zMCAxNWgzMHYxNXp2MTVIMHpIMFYwelYwaDMweiIvPjwvY2xpcFBhdGg+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBkPSJNMCAwdjMwaDYwVjB6IiBmaWxsPSIjMDEyMTY5Ii8+PHBhdGggZD0iTTAgMGw2MCAzMG0wLTMwTDAgMzAiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSI2Ii8+PHBhdGggZD0iTTAgMGw2MCAzMG0wLTMwTDAgMzAiIGNsaXAtcGF0aD0idXJsKCNiKSIgc3Ryb2tlPSIjQzgxMDJFIiBzdHJva2Utd2lkdGg9IjQiLz48cGF0aCBkPSJNMzAgMHYzME0wIDE1aDYwIiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMTAiLz48cGF0aCBkPSJNMzAgMHYzME0wIDE1aDYwIiBzdHJva2U9IiNDODEwMkUiIHN0cm9rZS13aWR0aD0iNiIvPjwvZz48L3N2Zz4=",jp:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA5MDAgNjAwIj4KPHJlY3QgZmlsbD0iI2ZmZiIgaGVpZ2h0PSI2MDAiIHdpZHRoPSI5MDAiLz4KPGNpcmNsZSBmaWxsPSIjYmMwMDJkIiBjeD0iNDUwIiBjeT0iMzAwIiByPSIxODAiLz4KPC9zdmc+Cg=="},_=$=>o($);function u($){i=$,r(1,i)}function c($){Ze.call(this,a,$)}function m($){a.$$.not_equal(n.enabled,$)&&(n.enabled=$,r(2,n))}const w=()=>f(),v=()=>f();return a.$$set=$=>{"map"in $&&r(8,s=$.map)},a.$$.update=()=>{a.$$.dirty&256&&r(0,t=s=="nms"),a.$$.dirty&257&&r(3,l=t?Wt:s)},[t,i,n,l,o,f,d,g,s,_,u,c,m,w,v]}class ll extends U{constructor(e){super(),Q(this,e,Xt,Jt,X,{map:8})}}export{ll as S};
